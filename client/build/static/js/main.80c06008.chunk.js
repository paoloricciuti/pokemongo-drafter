(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),s=n(21),o=n.n(s),i=(n(28),n(29),n(5)),l=n.n(i),u=n(9),d=n(2),j=n(3),b=function(){return function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a,c,r,s,o,i,u,d,j,b=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.length>2&&void 0!==b[2]?b[2]:null,c=!(b.length>3&&void 0!==b[3])||b[3],r="/api/",s=new Headers,c&&s.append("Content-Type","application/json"),o={method:n,body:null!=a&&"GET"!=n?JSON.stringify(a):null,headers:s},a instanceof FormData&&(o.body=a),i="","GET"==n&&null!=a&&(u=new URLSearchParams,Object.entries(a).forEach((function(e){u.append(e[0],e[1])})),i="?".concat(u.toString())),e.next=11,fetch("".concat(r).concat(t).concat(i),o);case 11:return d=e.sent,e.prev=12,e.next=15,d.json();case 15:j=e.sent,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(12),j={ok:!1};case 21:return e.abrupt("return",j);case 22:case"end":return e.stop()}}),e,null,[[12,18]])})));return function(t,n){return e.apply(this,arguments)}}()},h=(n(31),function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),r=n[0],s=n[1],o=Object(c.useState)(""),i=Object(d.a)(o,2),h=i[0],p=i[1],m=Object(c.useState)(""),f=Object(d.a)(m,2),O=f[0],x=f[1],v=Object(c.useState)(""),g=Object(d.a)(v,2),k=g[0],y=g[1],w=b(),N=Object(j.f)(),C=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y(""),x(""),""!=h){e.next=6;break}return y("Password can't be blank"),e.abrupt("return");case 6:if(/^(\w|\s)+$/.test(r)){e.next=9;break}return x("Room name can't contain special characters and can't be blank"),e.abrupt("return");case 9:return e.next=11,w("rooms","POST",{name:r,password:h});case 11:(n=e.sent).error?x("A room with the same name already exists, try another one"):N.push("/joinroom/".concat(n.link),{room:n,password:h});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"main",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h3",{children:"Welcome to Pokemon Go drafter, the definitive tool to create a draft tournament with your friends."}),Object(a.jsx)("p",{class:"explanation",children:"Choose a room name and a room password, share the link and the password with friends and start drafting."}),Object(a.jsxs)("form",{onSubmit:C,children:[Object(a.jsx)("input",{placeholder:"Room Name",type:"text",value:r,onChange:function(e){s(e.target.value)}}),""!=O&&Object(a.jsx)("div",{className:"error",children:O}),Object(a.jsx)("input",{placeholder:"Room Password",type:"password",value:h,onChange:function(e){p(e.target.value)}}),""!=k&&Object(a.jsx)("div",{className:"error",children:k}),Object(a.jsx)("button",{type:"submit",children:"Create Room"})]})]})})}),p=n(15),m=Object(c.createContext)(null),f=Object(c.createContext)(null),O=function(){return Object(c.useContext)(m)},x=function(){return Object(c.useContext)(f)},v=function(e){var t=e.children,n=Object(c.useState)(null),r=Object(d.a)(n,2),s=r[0],o=r[1];return Object(a.jsx)(m.Provider,{value:s,children:Object(a.jsx)(f.Provider,{value:o,children:t})})},g=Object(c.createContext)(null),k=Object(c.createContext)(null),y=function(){return Object(c.useContext)(g)},w=function(e){var t=e.children,n=Object(c.useState)(window.io()),r=Object(d.a)(n,2),s=r[0],o=r[1],i=x();return Object(c.useEffect)((function(){s.on("updateRoom",(function(e){i(e)}))}),[i]),Object(a.jsx)(g.Provider,{value:s,children:Object(a.jsx)(k.Provider,{value:o,children:s&&t})})},N=["bug","dark","dragon","electric","fairy","fighting","fire","flying","ghost","grass","ground","ice","normal","poison","psychic","rock","steel","water"],C={ground:{red:215,green:141,blue:94},ghost:{red:97,green:109,blue:191},normal:{red:146,green:153,blue:161},dark:{red:101,green:103,blue:118},water:{red:94,green:170,blue:220},fighting:{red:215,green:64,blue:95},electric:{red:247,green:218,blue:92},flying:{red:155,green:179,blue:225},poison:{red:185,green:98,blue:205},bug:{red:153,green:197,blue:42},rock:{red:203,green:189,blue:142},fire:{red:253,green:161,blue:88},grass:{red:91,green:191,blue:103},steel:{red:82,green:152,blue:164},ice:{red:124,green:210,blue:199},psychic:{red:250,green:135,blue:132},dragon:{red:11,green:110,blue:191},fairy:{red:255,green:175,blue:238}},S=new Audio("../notification.mp3"),_=function(e){var t=Object(j.h)().link,n=O(),r=(x(),Object(j.f)()),s=Object(j.g)(),o=y(),i=b(),h=Object(c.useState)(s.state),m=Object(d.a)(h,2),f=m[0],v=(m[1],Object(c.useState)("")),g=Object(d.a)(v,2),k=g[0],w=g[1],_=Object(c.useState)(6),L=Object(d.a)(_,2),T=L[0],M=L[1],I=Object(c.useState)(0),A=Object(d.a)(I,2),E=A[0],P=A[1],R=Object(c.useCallback)((function(e){var t=Math.max(e.target.value,1);U(Object(p.a)(new Array(E+t)).map((function(e){return!1}))),M(t)}),[E]),H=Object(c.useCallback)((function(e){var t=Math.max(e.target.value,0);U(Object(p.a)(new Array(T+t)).map((function(e){return!1}))),P(t)}),[T]),D=Object(c.useRef)(),B=Object(c.useState)([!1,!1,!1,!1,!1,!1]),F=Object(d.a)(B,2),G=F[0],U=F[1],J=Object(c.useState)("1500"),W=Object(d.a)(J,2),q=W[0],$=W[1],z=Object(c.useState)(null),K=Object(d.a)(z,2),Q=K[0],V=K[1],X=Object(c.useState)(null),Y=Object(d.a)(X,2),Z=Y[0],ee=Y[1],te=Object(c.useCallback)((function(e){if(n.players.find((function(e){return e.pick_order==n.choosing})).username.toLowerCase()==f.toLowerCase()){var t=e.target.dataset.id;-1==n.choosed_list.indexOf(t)?ee(Q.find((function(e){return e.speciesId==t}))):alert("This pokemon was already selected.")}}),[n,f,Q]),ne=Object(c.useCallback)((function(){var e=n.players.find((function(e){return e.pick_order==n.choosing}));if(e.username.toLowerCase()==f.toLowerCase())if(-1!=n.choosed_list.indexOf(Z.speciesId))alert("This pokemon was already selected.");else{var a={room_link:t,chooser:e,pick:Z.speciesName,pick_id:Z.speciesId};w(""),o.emit("pick",a),ee(null)}}),[n,o,Z,f]),ae=Object(c.useCallback)((function(){window.confirm("Are you sure you want to start the draft? No other person will be able to join after the draft is started.")&&o.emit("startDraft",{room_link:t,bans:G,league:q})}),[o,G,q,t]),ce=Object(c.useCallback)((function(e){var t=-1==n.choosed_list.indexOf(e.speciesId),a=k.charAt(0),c=e.speciesId.replaceAll("_"," ").toLowerCase().includes(k.toLowerCase());if(-1!=N.indexOf(k)&&(c=e.types.reduce((function(e,t){return e||t.toLowerCase()==k.toLowerCase()}),!1)),"@"==a){var r=k.substr(1);c=-1==N.indexOf(r)?Object.values(e.moves).flatMap((function(e){return e})).map((function(e){return e.moveId.replaceAll("_"," ").toLowerCase()})).reduce((function(e,t){return e||t.includes(r)}),!1):Object.values(e.moves).flatMap((function(e){return e})).map((function(e){return e.type.toLowerCase()})).reduce((function(e,t){return e||t==r}),!1)}else if("-"==a){var s=k.substr(1);c=Object.values(e.matchups).flatMap((function(e){return e})).map((function(e){return e.opponent.replaceAll("_"," ").toLowerCase()})).reduce((function(e,t){return e||t.includes(s)}),!1)}return t&&c}),[k,n]),re=Object(c.useState)(!1),se=Object(d.a)(re,2),oe=se[0],ie=se[1],le=function(){ie((function(e){return!e}))},ue=Object(c.useState)(!1),de=Object(d.a)(ue,2),je=de[0],be=de[1],he=Object(c.useState)(""),pe=Object(d.a)(he,2),me=pe[0],fe=pe[1],Oe=Object(c.useState)([]),xe=Object(d.a)(Oe,2),ve=xe[0],ge=xe[1],ke=Object(c.useRef)(),ye=Object(c.useCallback)((function(e){e.preventDefault(),o.emit("chatMsg",{username:f,msg:me,room_link:t}),fe("")}),[o,f,me,t]);Object(c.useEffect)((function(){if(null==n)r.push("/joinroom/".concat(t));else{var e,a,c,s,o,d;if(!Q)(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n?void 0:n.league){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,i("rankings/".concat(n.league),"GET");case 4:t=e.sent,V(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();if(null===n||void 0===n?void 0:n.started)if(Math.floor(n.choosed_list.length/n.players.length)>=n.ban_rounds.length||(null===n||void 0===n||null===(e=n.players)||void 0===e||null===(a=e.find((function(e){return e.pick_order==n.choosing})))||void 0===a||null===(c=a.username)||void 0===c?void 0:c.toLowerCase())!=(null===f||void 0===f?void 0:f.toLowerCase())||S.play(),"Notification"in window&&"granted"!==Notification.permission&&Notification.requestPermission(),"Notification"in window&&"granted"===Notification.permission)if(!(Math.floor(n.choosed_list.length/n.players.length)>=n.ban_rounds.length)&&(null===n||void 0===n||null===(s=n.players)||void 0===s||null===(o=s.find((function(e){return e.pick_order==n.choosing})))||void 0===o||null===(d=o.username)||void 0===d?void 0:d.toLowerCase())==(null===f||void 0===f?void 0:f.toLowerCase()))try{new Notification("It's your turn",{body:"Hey ".concat(f," it's your turn to pick for the draft ").concat(n.name)})}catch(j){}}}),[n]),Object(c.useEffect)((function(){n&&o.on("updateChat",(function(e){console.log("Chat updated");var t=ke.current.scrollHeight-ke.current.clientHeight==ke.current.scrollTop;ge(e),t&&(ke.current.scrollTop=ke.current.scrollHeight-ke.current.clientHeight)}))}),[n,o,ge,ke]);var we=Object(c.useRef)(),Ne=Object(c.useCallback)((function(){we.current&&(je||(we.current.classList.add("new-msg"),we.current.addEventListener("animationend",(function(){we.current.classList.remove("new-msg")}))))}),[je,we]);return Object(c.useEffect)(Ne,[ve]),n&&Object(a.jsxs)("div",{className:"main",children:[Object(a.jsxs)("div",{className:"container titled room-container ".concat(Math.floor(n.choosed_list.length/n.players.length)>=n.ban_rounds.length&&"finished"),"data-title":n.name,children:[Math.floor(n.choosed_list.length/n.players.length)>=n.ban_rounds.length&&Object(a.jsx)("div",{className:"ended",children:"The drafting is over...have a good tournament!"}),Object(a.jsx)("div",{className:"container-element playerlist",children:Object(a.jsx)("ul",{children:n.players.map((function(e){return Object(a.jsxs)("li",{className:e.online?"online":"",children:[Object(a.jsx)("span",{children:e.username}),Object(a.jsx)("hr",{})]},e.username)}))})}),Object(a.jsx)("div",{className:"container-element teams",children:(null===n||void 0===n?void 0:n.started)?n.players.map((function(e){return Object(a.jsx)("div",{className:"player-team titled ".concat(Math.floor(n.choosed_list.length/n.players.length)>=n.ban_rounds.length||n.players.find((function(e){return e.pick_order==n.choosing})).username!=e.username?"":"choosing"," ").concat(n.ban_rounds[Math.floor(n.choosed_list.length/n.players.length)]?"banning":""),"data-title":e.username,children:e.team.map((function(e,t){return Object(a.jsx)("div",{className:"pick ".concat(n.ban_rounds[t]?"ban":""),style:{backgroundImage:"url(https://rankingsbot.com/imgs2/".concat(e.pick_id.replace("_","-").replace("alolan","alola"),".png)")}})}))})})):Object(a.jsx)("h2",{children:"Everyone's team will be shown here as soon as the draft starts!"})}),Object(a.jsx)("div",{className:"container-element commands",children:(null===n||void 0===n?void 0:n.started)?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"chooser ".concat(n.players.find((function(e){return e.pick_order==n.choosing})).username.toLowerCase()==f.toLowerCase()?"your-turn":""),children:["Chooser: ",n&&n.players.find((function(e){return e.pick_order==n.choosing})).username]}),n.ban_rounds[Math.floor(n.choosed_list.length/n.players.length)]&&Object(a.jsxs)("div",{className:"warning",children:[Object(a.jsx)("i",{className:"material-icons",children:"warning"})," banning round."]}),Object(a.jsx)("div",{}),Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)("input",{className:"searchBox",placeholder:"Search...",type:"text",value:k,onChange:function(e){w(e.target.value)}}),Object(a.jsx)("i",{className:"material-icons info",onClick:le,children:"info"})]}),Object(a.jsx)("div",{className:"picks",children:Q?Q.map((function(e){return Object(a.jsx)("div",{className:"pick ".concat(ce(e)?"":"hidden"," ").concat(n.players.find((function(e){return e.pick_order==n.choosing})).username.toLowerCase()!=f.toLowerCase()?"disabled":""),style:{backgroundImage:"url(https://rankingsbot.com/imgs2/".concat(e.speciesId.replaceAll("_","-").replace("alolan","alola"),".png)")},"data-id":e.speciesId,"data-name":e.speciesName,onClick:te})})):Object(a.jsx)("div",{className:"loadingContainer",children:Object(a.jsx)("div",{className:"loading"})})})]}):Object(a.jsx)("div",{children:n.players.find((function(e){return e.username.toLowerCase()==f.toLowerCase()})).host?Object(a.jsxs)("div",{className:"options",children:[Object(a.jsx)("label",{children:"Rounds:"}),Object(a.jsx)("input",{type:"number",min:"1",value:T,onChange:R}),Object(a.jsx)("label",{children:"Ban:"}),Object(a.jsx)("input",{type:"number",min:"0",value:E,onChange:H}),E>0&&Object(a.jsxs)("div",{style:{width:"100%"},children:["Ban columns:",Object(a.jsx)("div",{ref:D,className:"bans",onClick:function(e){U(Object(p.a)(D.current.querySelectorAll("input")).map((function(e){return e.checked})))},children:G.map((function(e,t){return Object(a.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"},children:[Object(a.jsx)("span",{children:t+1}),Object(a.jsx)("input",{disabled:G.filter(Boolean).length==E&&!e,checked:e,type:"checkbox"})]})}))})]}),Object(a.jsx)("label",{children:"League:"}),Object(a.jsxs)("select",{value:q,onChange:function(e){$(e.target.value)},children:[Object(a.jsx)("option",{value:"1500",children:"Great League"}),Object(a.jsx)("option",{value:"2500",children:"Ultra League"}),Object(a.jsx)("option",{value:"10000",children:"Master League"})]})," ",Object(a.jsx)("br",{}),Object(a.jsx)("button",{className:"lighter",onClick:ae,children:"Start Draft"})]}):Object(a.jsxs)(a.Fragment,{children:["The host ",Object(a.jsx)("span",{style:{fontWeight:"bold"},children:n.players.find((function(e){return e.host})).username})," hasn't started the draft yet."]})})})]}),Object(a.jsxs)("div",{className:"chat-container",children:[Object(a.jsxs)("div",{ref:we,className:"chat-title",onClick:function(){be((function(e){return!e}))},children:["Chat ",Object(a.jsx)("i",{className:"material-icons",children:"close"})]}),Object(a.jsxs)("div",{className:"chat-and-commands ".concat(je?"":"chat-closed"),children:[Object(a.jsx)("div",{ref:ke,className:"chat",children:ve.map((function(e){var t=new Date(e.eta);return t.setHours(t.getHours()-(new Date).getTimezoneOffset()/60),Object(a.jsxs)("div",{className:"chat-msg ".concat(e.author.toLowerCase()==f.toLowerCase()?"personal":""),children:[Object(a.jsx)("div",{className:"chat-author",children:e.author}),Object(a.jsx)("div",{className:"chat-content",children:e.msg}),Object(a.jsx)("div",{className:"chat-eta",children:"".concat(String(t.getHours()).padStart(2,"0"),":").concat(String(t.getMinutes()).padStart(2,"0"))})]})}))}),Object(a.jsx)("div",{className:"chat-commands",children:Object(a.jsxs)("form",{onSubmit:ye,children:[Object(a.jsx)("input",{value:me,onChange:function(e){return fe(e.target.value)}}),Object(a.jsx)("button",{disabled:!me,type:"submit",children:Object(a.jsx)("i",{className:"material-icons",children:"send"})})]})})]})]}),Object(a.jsx)("div",{onClick:le,className:"info-popup ".concat(oe?"":"closed"),children:Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{children:["Type ",Object(a.jsx)("b",{children:Object(a.jsx)("i",{children:"pokemonname"})})," to list a pok\xe9mon with that name"]}),Object(a.jsxs)("li",{children:["Type ",Object(a.jsx)("b",{children:Object(a.jsx)("i",{children:"type"})})," to list pok\xe9mon with that type"]}),Object(a.jsxs)("li",{children:["Type ",Object(a.jsx)("b",{children:Object(a.jsx)("i",{children:"@move"})})," to list pok\xe9mon with that move"]}),Object(a.jsxs)("li",{children:["Type ",Object(a.jsx)("b",{children:Object(a.jsx)("i",{children:"@type"})})," to list pok\xe9mon with that move type"]}),Object(a.jsxs)("li",{children:["Type ",Object(a.jsx)("b",{children:Object(a.jsx)("i",{children:"-pokemonname"})})," to list counters for that pok\xe9mon"]})]})}),Z&&Object(a.jsx)("div",{className:"confirm-pokemon",onClick:function(e){return e.target.classList.contains("confirm-pokemon")&&ee(null)},children:Object(a.jsxs)("div",{className:"pokemon-card",children:[Object(a.jsx)("div",{className:"pokemon-card-img",style:{backgroundImage:"url(https://rankingsbot.com/imgs2/".concat(Z.speciesId.replaceAll("_","-").replace("alolan","alola"),".png)")}}),Object(a.jsx)("div",{className:"pokemon-card-name",children:Z.speciesName}),Object(a.jsx)("div",{className:"pokemon-card-types",children:Z.types.map((function(e){return"none"!=e&&Object(a.jsx)("div",{style:{backgroundImage:"url(../types/".concat(e,".png)")}})}))}),Object(a.jsxs)("div",{className:"pokemon-card-stats",children:[Object(a.jsx)("div",{className:"pokemon-card-stat",children:"ATK"}),Object(a.jsx)("div",{className:"pokemon-card-stat",children:"DEF"}),Object(a.jsx)("div",{className:"pokemon-card-stat",children:"HP"}),Object(a.jsx)("div",{className:"pokemon-card-stat",children:Z.stats.atk}),Object(a.jsx)("div",{className:"pokemon-card-stat",children:Z.stats.def}),Object(a.jsx)("div",{className:"pokemon-card-stat",children:Z.stats.hp})]}),Object(a.jsxs)("div",{className:"pokemon-card-moves",children:[Object(a.jsx)("div",{className:"pokemon-card-fasts",children:Z.moves.fastMoves.map((function(e){return Object(a.jsx)("div",{style:{background:"rgb(".concat(C[e.type].red,", ").concat(C[e.type].green,", ").concat(C[e.type].blue,")")},className:"pokemon-card-fast",children:e.moveId.replaceAll("_"," ")})}))}),Object(a.jsx)("div",{className:"pokemon-card-charges",children:Z.moves.chargedMoves.map((function(e){return Object(a.jsx)("div",{style:{background:"rgb(".concat(C[e.type].red,", ").concat(C[e.type].green,", ").concat(C[e.type].blue,")")},className:"pokemon-card-charge",children:e.moveId.replaceAll("_"," ")})}))})]}),Object(a.jsxs)("div",{className:"pokemon-card-buttons",children:[Object(a.jsx)("button",{className:"lighter",onClick:function(){ee(null)},children:"Cancel"}),Object(a.jsx)("button",{className:"lighter",onClick:ne,children:n.ban_rounds[Math.floor(n.choosed_list.length/n.players.length)]?"Ban":"Select"})]})]})})]})},L=function(e){var t=Object(j.h)().link,n=Object(c.useRef)(),r=Object(j.g)(),s=Object(c.useState)(null),o=Object(d.a)(s,2),i=o[0],h=o[1],p=b(),m=y(),f=Object(c.useState)(""),x=Object(d.a)(f,2),v=x[0],g=x[1],k=Object(c.useState)(""),w=Object(d.a)(k,2),N=w[0],C=w[1],S=Object(c.useState)(r.state?r.state.password:""),_=Object(d.a)(S,2),L=_[0],T=_[1],M=Object(c.useState)(""),I=Object(d.a)(M,2),A=I[0],E=I[1],P=Object(c.useState)(""),R=Object(d.a)(P,2),H=R[0],D=R[1],B=Object(c.useState)(""),F=Object(d.a)(B,2),G=F[0],U=F[1],J=Object(j.f)(),W=O(),q=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,c,r,s,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new TextEncoder,a=n.encode(t),e.next=4,crypto.subtle.digest("SHA-256",a);case 4:for(c=e.sent,r="",s=new Uint8Array(c),o=s.byteLength,i=0;i<o;i++)r+=String.fromCharCode(s[i]);return e.abrupt("return",btoa(r));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText("".concat(window.location.href));case 2:n.current.classList.add("copied");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),D(""),E(""),U(""),e.next=6,q(L);case 6:if(e.t0=e.sent,e.t1=i.password,e.t0==e.t1){e.next=11;break}return U("Wrong room Password"),e.abrupt("return");case 11:if(/^\w+$/.test(v)){e.next=14;break}return E("Username can't contain spaces or special characters and can't be blank"),e.abrupt("return");case 14:if(""!=N){e.next=17;break}return D("Password can't be blank"),e.abrupt("return");case 17:m.emit("joinRoom",{username:v,password:N,room:t});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("rooms/".concat(t),"GET");case 2:n=e.sent,h(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.state?h(r.state.room):e(),m.on("error",(function(e){"Wrong password"==e?D("Wrong password"):U(e)}))}),[]),Object(c.useEffect)((function(){null!=W&&J.push("/room/".concat(W.link),v)}),[W]),i&&Object(a.jsx)("div",{className:"main",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h3",{children:!1!==i.ok?"Joining room ".concat(i.name):"No room with name ".concat(t)}),!(!1===i.ok)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{className:"explanation",children:"Choose your Username and Password, you'll need them to come back later!"}),Object(a.jsxs)("form",{onSubmit:z,children:[Object(a.jsx)("input",{placeholder:"Username",type:"text",value:v,onChange:function(e){g(e.target.value)}}),""!=A&&Object(a.jsx)("div",{className:"error",children:A}),Object(a.jsx)("input",{placeholder:"Password",type:"password",value:N,onChange:function(e){C(e.target.value)}}),""!=H&&Object(a.jsx)("div",{className:"error",children:H}),Object(a.jsxs)("p",{className:"explanation",children:["Share the following link and the room password with your friends to let them join the draft!",Object(a.jsxs)("code",{class:"share-link",onClick:$,children:[Object(a.jsx)("span",{className:"link",children:window.location.href}),Object(a.jsx)("i",{ref:n,class:"material-icons right",children:"content_copy"})]})]}),!r.state&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{placeholder:"Room Password",type:"password",value:L,onChange:function(e){T(e.target.value)}}),""!=G&&Object(a.jsx)("div",{className:"error",children:G})]}),Object(a.jsx)("button",{type:"submit",children:"Join"})]})]})]})})},T=n(11);var M=function(){return Object(a.jsx)(T.a,{children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{path:"/",exact:!0,component:h}),Object(a.jsx)(j.a,{path:"/room/:link",exact:!0,component:_}),Object(a.jsx)(j.a,{path:"/joinroom/:link",exact:!0,component:L}),Object(a.jsx)(j.a,{path:"/test",exact:!0,children:Object(a.jsx)("div",{children:"Test"})})]})})};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(v,{children:Object(a.jsx)(w,{children:Object(a.jsx)(M,{})})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.80c06008.chunk.js.map