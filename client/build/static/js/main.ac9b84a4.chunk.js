(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(21),o=n.n(s),i=(n(28),n(29),n(4)),l=n.n(i),u=n(8),d=n(2),j=n(3),b=function(e){return Object(c.jsx)("div",{className:"footer",children:Object(c.jsxs)("a",{href:"https://twitter.com/pogodrafter",target:"_blank",children:[Object(c.jsx)("i",{style:{color:"#1DA1F2"},className:"fa fa-twitter"})," Follow me on Twitter @pogodrafter for questions and suggestions"]})})},h=function(e){return Object(c.jsx)("div",{style:{backgroundImage:"url(../pogodrafter.png)"},className:"logo"})},p=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),r=n[0],s=n[1];return Object(c.jsx)("div",{onClick:function(){s((function(e){return!e}))},className:"articlesWrapper",children:Object(c.jsxs)("div",{className:"articles ".concat(r?"openArticles":""),children:[Object(c.jsx)("i",{class:"material-icons menu-icon",children:"article"}),Object(c.jsx)("a",{href:"/articles",children:"Articles"})]})})},m=function(){return function(){var e=Object(u.a)(l.a.mark((function e(t,n){var c,a,r,s,o,i,u,d,j,b=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=b.length>2&&void 0!==b[2]?b[2]:null,a=!(b.length>3&&void 0!==b[3])||b[3],r="/api/",s=new Headers,a&&s.append("Content-Type","application/json"),o={method:n,body:null!=c&&"GET"!=n?JSON.stringify(c):null,headers:s},c instanceof FormData&&(o.body=c),i="","GET"==n&&null!=c&&(u=new URLSearchParams,Object.entries(c).forEach((function(e){u.append(e[0],e[1])})),i="?".concat(u.toString())),e.next=11,fetch("".concat(r).concat(t).concat(i),o);case 11:return d=e.sent,e.prev=12,e.next=15,d.json();case 15:j=e.sent,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(12),j={ok:!1};case 21:return e.abrupt("return",j);case 22:case"end":return e.stop()}}),e,null,[[12,18]])})));return function(t,n){return e.apply(this,arguments)}}()},f=(n(31),function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),r=n[0],s=n[1],o=Object(a.useState)(""),i=Object(d.a)(o,2),f=i[0],O=i[1],x=Object(a.useState)(""),v=Object(d.a)(x,2),g=v[0],k=v[1],w=Object(a.useState)(""),y=Object(d.a)(w,2),C=y[0],N=y[1],_=m(),S=Object(j.f)(),L=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),N(""),k(""),""!=f){e.next=6;break}return N("Password can't be blank"),e.abrupt("return");case 6:if(/^(\w|\s)+$/.test(r)){e.next=9;break}return k("Room name can't contain special characters and can't be blank"),e.abrupt("return");case 9:return e.next=11,_("rooms","POST",{name:r,password:f});case 11:(n=e.sent).error?k("A room with the same name already exists, try another one"):S.push("/joinroom/".concat(n.link),{room:n,password:f});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"main",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(h,{}),Object(c.jsx)(b,{}),Object(c.jsx)(p,{}),Object(c.jsx)("h3",{children:"Welcome to Pokemon Go drafter, the definitive tool to create a draft tournament with your friends."}),Object(c.jsx)("p",{class:"explanation",children:"Choose a room name and a room password, share the link and the password with friends and start drafting."}),Object(c.jsxs)("form",{onSubmit:L,children:[Object(c.jsx)("input",{placeholder:"Room Name",type:"text",value:r,onChange:function(e){s(e.target.value)}}),""!=g&&Object(c.jsx)("div",{className:"error",children:g}),Object(c.jsx)("input",{placeholder:"Room Password",type:"password",value:f,onChange:function(e){O(e.target.value)}}),""!=C&&Object(c.jsx)("div",{className:"error",children:C}),Object(c.jsx)("button",{type:"submit",children:"Create Room"})]})]})})}),O=n(15),x=function(e){var t=e.pvpokeRankings,n=e.checkHide,a=e.pickPokemon;return Object(c.jsx)("div",{className:"picks",children:t?t.map((function(e){return Object(c.jsx)("div",{className:"pick ".concat(n(e)?"":"hidden"),style:{backgroundImage:"url(https://rankingsbot.com/imgs2/".concat(e.speciesId.replaceAll("_","-").replace("alolan","alola"),".png)")},"data-id":e.speciesId,"data-name":e.speciesName,onClick:a})})):Object(c.jsx)("div",{className:"loadingContainer",children:Object(c.jsx)("div",{className:"loading"})})})},v=Object(a.createContext)(null),g=Object(a.createContext)(null),k=function(){return Object(a.useContext)(v)},w=function(){return Object(a.useContext)(g)},y=function(e){var t=e.children,n=Object(a.useState)(null),r=Object(d.a)(n,2),s=r[0],o=r[1];return Object(c.jsx)(v.Provider,{value:s,children:Object(c.jsx)(g.Provider,{value:o,children:t})})},C=Object(a.createContext)(null),N=Object(a.createContext)(null),_=function(){return Object(a.useContext)(C)},S=function(e){var t=e.children,n=Object(a.useState)(window.io()),r=Object(d.a)(n,2),s=r[0],o=r[1],i=w();return Object(a.useEffect)((function(){s.on("updateRoom",(function(e){i(e)}))}),[i]),Object(c.jsx)(C.Provider,{value:s,children:Object(c.jsx)(N.Provider,{value:o,children:s&&t})})},L=["bug","dark","dragon","electric","fairy","fighting","fire","flying","ghost","grass","ground","ice","normal","poison","psychic","rock","steel","water"],A={ground:{red:215,green:141,blue:94},ghost:{red:97,green:109,blue:191},normal:{red:146,green:153,blue:161},dark:{red:101,green:103,blue:118},water:{red:94,green:170,blue:220},fighting:{red:215,green:64,blue:95},electric:{red:247,green:218,blue:92},flying:{red:155,green:179,blue:225},poison:{red:185,green:98,blue:205},bug:{red:153,green:197,blue:42},rock:{red:203,green:189,blue:142},fire:{red:253,green:161,blue:88},grass:{red:91,green:191,blue:103},steel:{red:82,green:152,blue:164},ice:{red:124,green:210,blue:199},psychic:{red:250,green:135,blue:132},dragon:{red:11,green:110,blue:191},fairy:{red:255,green:175,blue:238}},I=new Audio("../notification.mp3"),T=function(e){var t,n,r,s,o=Object(j.h)().link,i=k(),b=(w(),Object(j.f)()),h=Object(j.g)(),p=_(),f=m(),v=Object(a.useState)(h.state),g=Object(d.a)(v,2),y=g[0],C=(g[1],Object(a.useState)("")),N=Object(d.a)(C,2),S=N[0],T=N[1],M=Object(a.useState)(""),P=Object(d.a)(M,2),E=P[0],R=P[1],H=Object(a.useState)(6),D=Object(d.a)(H,2),F=D[0],B=D[1],G=Object(a.useState)(0),J=Object(d.a)(G,2),U=J[0],W=J[1],q=Object(a.useCallback)((function(e){var t=Math.max(e.target.value,1);X(Object(O.a)(new Array(U+t)).map((function(e){return!1}))),B(t)}),[U]),$=Object(a.useCallback)((function(e){var t=Math.max(e.target.value,0);X(Object(O.a)(new Array(F+t)).map((function(e){return!1}))),W(t)}),[F]),z=Object(a.useRef)(),K=Object(a.useState)([!1,!1,!1,!1,!1,!1]),Q=Object(d.a)(K,2),V=Q[0],X=Q[1],Y=Object(a.useState)("1500"),Z=Object(d.a)(Y,2),ee=Z[0],te=Z[1],ne=Object(a.useState)(null),ce=Object(d.a)(ne,2),ae=ce[0],re=ce[1],se=Object(a.useState)(null),oe=Object(d.a)(se,2),ie=oe[0],le=oe[1],ue=Object(a.useCallback)((function(e){if(i.players.find((function(e){return e.pick_order==i.choosing})).username.toLowerCase()==y.toLowerCase()){var t=e.target.dataset.id;-1==i.choosed_list.indexOf(t)?le(ae.find((function(e){return e.speciesId==t}))):alert("This pokemon was already selected.")}}),[i,y,ae]),de=Object(a.useState)(!1),je=Object(d.a)(de,2),be=je[0],he=je[1],pe=Object(a.useState)(null),me=Object(d.a)(pe,2),fe=me[0],Oe=me[1],xe=Object(a.useCallback)((function(){var e=window.confirm("Are you sure you want to assign the substitute to the current chooser? The draft will go on and it will later be able to substitute the doll with a Pokemon on his turn."),t=i.players.find((function(e){return e.pick_order==i.choosing}));if(e){var n={room_link:o,chooser:t,pick:"Substitute",pick_id:"substitute",substitute:!0};p.emit("pick",n)}}),[p,i]),ve=Object(a.useCallback)((function(e){he(!0),Oe(e.target.dataset.id)}),[p,i]),ge=Object(a.useCallback)((function(){var e=i.players.find((function(e){return e.pick_order==i.choosing}));if(e.username.toLowerCase()==y.toLowerCase())if(-1!=i.choosed_list.indexOf(ie.speciesId))alert("This pokemon was already selected.");else{var t={room_link:o,chooser:e,pick:ie.speciesName,pick_id:ie.speciesId};T(""),p.emit("pick",t),le(null)}}),[i,p,ie,y]),ke=Object(a.useCallback)((function(){if(i.players.find((function(e){return e.pick_order==i.choosing})).username.toLowerCase()==y.toLowerCase())if(-1!=i.choosed_list.indexOf(ie.speciesId))alert("This pokemon was already selected.");else{var e={room_link:o,id:fe,pick:ie.speciesName,pick_id:ie.speciesId};T(""),p.emit("substitute",e),le(null),he(!1),Oe(null)}}),[i,p,ie,y,fe]),we=Object(a.useCallback)((function(){window.confirm("Are you sure you want to start the draft? No other person will be able to join after the draft is started.")&&p.emit("startDraft",{room_link:o,bans:V,league:ee})}),[p,V,ee,o]),ye=Object(a.useCallback)((function(e){var t=-1==i.choosed_list.indexOf(e.speciesId),n=E.charAt(0),c=e.speciesId.replaceAll("_"," ").toLowerCase().includes(E.toLowerCase());if(-1!=L.indexOf(E)&&(c=e.types.reduce((function(e,t){return e||t.toLowerCase()==E.toLowerCase()}),!1)),"@"==n){var a=E.substr(1);c=-1==L.indexOf(a)?Object.values(e.moves).flatMap((function(e){return e})).map((function(e){return e.moveId.replaceAll("_"," ").toLowerCase()})).reduce((function(e,t){return e||t.includes(a)}),!1):Object.values(e.moves).flatMap((function(e){return e})).map((function(e){return e.type.toLowerCase()})).reduce((function(e,t){return e||t==a}),!1)}else if("-"==n){var r=E.substr(1);c=Object.values(e.matchups).flatMap((function(e){return e})).map((function(e){return e.opponent.replaceAll("_"," ").toLowerCase()})).reduce((function(e,t){return e||t.includes(r)}),!1)}return t&&c}),[E,i]),Ce=Object(a.useCallback)((function(e){var t=-1==i.choosed_list.indexOf(e.speciesId),n=S.charAt(0),c=e.speciesId.replaceAll("_"," ").toLowerCase().includes(S.toLowerCase());if(-1!=L.indexOf(S)&&(c=e.types.reduce((function(e,t){return e||t.toLowerCase()==S.toLowerCase()}),!1)),"@"==n){var a=S.substr(1);c=-1==L.indexOf(a)?Object.values(e.moves).flatMap((function(e){return e})).map((function(e){return e.moveId.replaceAll("_"," ").toLowerCase()})).reduce((function(e,t){return e||t.includes(a)}),!1):Object.values(e.moves).flatMap((function(e){return e})).map((function(e){return e.type.toLowerCase()})).reduce((function(e,t){return e||t==a}),!1)}else if("-"==n){var r=S.substr(1);c=Object.values(e.matchups).flatMap((function(e){return e})).map((function(e){return e.opponent.replaceAll("_"," ").toLowerCase()})).reduce((function(e,t){return e||t.includes(r)}),!1)}return t&&c}),[S,i]),Ne=Object(a.useState)(!1),_e=Object(d.a)(Ne,2),Se=_e[0],Le=_e[1],Ae=function(){Le((function(e){return!e}))},Ie=Object(a.useState)(!1),Te=Object(d.a)(Ie,2),Me=Te[0],Pe=Te[1],Ee=Object(a.useState)(""),Re=Object(d.a)(Ee,2),He=Re[0],De=Re[1],Fe=Object(a.useState)([]),Be=Object(d.a)(Fe,2),Ge=Be[0],Je=Be[1],Ue=Object(a.useRef)(),We=Object(a.useCallback)((function(e){e.preventDefault(),p.emit("chatMsg",{username:y,msg:He,room_link:o}),De("")}),[p,y,He,o]);Object(a.useEffect)((function(){if(null==i)b.push("/joinroom/".concat(o));else{var e,t,n,c,a,r;if(!ae)(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===i||void 0===i?void 0:i.league){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,f("rankings/".concat(i.league),"GET");case 4:t=e.sent,re(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();if(null===i||void 0===i?void 0:i.started)if(Math.floor(i.choosed_list.length/i.players.length)>=i.ban_rounds.length||(null===i||void 0===i||null===(e=i.players)||void 0===e||null===(t=e.find((function(e){return e.pick_order==i.choosing})))||void 0===t||null===(n=t.username)||void 0===n?void 0:n.toLowerCase())!=(null===y||void 0===y?void 0:y.toLowerCase())||I.play(),"Notification"in window&&"granted"!==Notification.permission&&Notification.requestPermission(),"Notification"in window&&"granted"===Notification.permission)if(!(Math.floor(i.choosed_list.length/i.players.length)>=i.ban_rounds.length)&&(null===i||void 0===i||null===(c=i.players)||void 0===c||null===(a=c.find((function(e){return e.pick_order==i.choosing})))||void 0===a||null===(r=a.username)||void 0===r?void 0:r.toLowerCase())==(null===y||void 0===y?void 0:y.toLowerCase()))try{new Notification("It's your turn",{body:"Hey ".concat(y," it's your turn to pick for the draft ").concat(i.name)})}catch(s){}}}),[i]),Object(a.useEffect)((function(){i&&p.on("updateChat",(function(e){console.log("Chat updated");var t=Ue.current.scrollHeight-Ue.current.clientHeight==Ue.current.scrollTop;Je(e),t&&(Ue.current.scrollTop=Ue.current.scrollHeight-Ue.current.clientHeight)}))}),[i,p,Je,Ue]);var qe=Object(a.useRef)(),$e=Object(a.useCallback)((function(){qe.current&&(Me||(qe.current.classList.add("new-msg"),qe.current.addEventListener("animationend",(function(){qe.current.classList.remove("new-msg")}))))}),[Me,qe]);return Object(a.useEffect)($e,[Ge]),i&&Object(c.jsxs)("div",{className:"main",children:[Object(c.jsxs)("div",{className:"container titled room-container ".concat(Math.floor(i.choosed_list.length/i.players.length)>=i.ban_rounds.length&&"finished"),"data-title":i.name,children:[Math.floor(i.choosed_list.length/i.players.length)>=i.ban_rounds.length&&Object(c.jsx)("div",{className:"ended",children:"The drafting is over...have a good tournament!"}),Object(c.jsx)("div",{className:"container-element playerlist",children:Object(c.jsx)("ul",{children:i.players.map((function(e){return Object(c.jsxs)("li",{className:e.online?"online":"",children:[Object(c.jsx)("span",{children:e.username}),Object(c.jsx)("hr",{})]},e.username)}))})}),Object(c.jsx)("div",{className:"container-element teams",children:(null===i||void 0===i?void 0:i.started)?i.players.map((function(e){return Object(c.jsx)("div",{className:"player-team titled ".concat(Math.floor(i.choosed_list.length/i.players.length)>=i.ban_rounds.length||i.players.find((function(e){return e.pick_order==i.choosing})).username!=e.username?"":"choosing"," ").concat(i.ban_rounds[Math.floor(i.choosed_list.length/i.players.length)]?"banning":""),"data-title":e.username,children:e.team.map((function(t,n){var a=i.players.find((function(e){return e.pick_order==i.choosing})).username.toLowerCase(),r=a===y.toLowerCase()&&a===e.username.toLowerCase()&&"substitute"===t.pick_id;return Object(c.jsx)("div",{className:"pick ".concat(i.ban_rounds[n]?"ban":""," ").concat(r?"substitute":""),onClick:r&&ve,"data-id":t.id,style:{backgroundImage:"url(https://rankingsbot.com/imgs2/".concat(t.pick_id.replace("_","-").replace("alolan","alola"),".png)")}})}))})})):Object(c.jsx)("h2",{children:"Everyone's team will be shown here as soon as the draft starts!"})}),Object(c.jsx)("div",{className:"container-element commands",children:(null===i||void 0===i?void 0:i.started)?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"chooser ".concat(i.players.find((function(e){return e.pick_order==i.choosing})).username.toLowerCase()==y.toLowerCase()?"your-turn":""),children:["Chooser: ",i&&i.players.find((function(e){return e.pick_order==i.choosing})).username]}),(null===i||void 0===i||null===(t=i.players)||void 0===t||null===(n=t.find((function(e){return e.username.toLowerCase()==y.toLowerCase()})))||void 0===n?void 0:n.host)?Object(c.jsx)("button",{className:"lighter",onClick:xe,children:"Assign substitute"}):null,i.ban_rounds[Math.floor(i.choosed_list.length/i.players.length)]&&Object(c.jsxs)("div",{className:"warning",children:[Object(c.jsx)("i",{className:"material-icons",children:"warning"})," banning round."]}),Object(c.jsxs)("div",{style:{position:"relative"},children:[Object(c.jsx)("input",{className:"searchBox",placeholder:"Search...",type:"text",value:S,onChange:function(e){T(e.target.value)}}),Object(c.jsx)("i",{className:"material-icons info",onClick:Ae,children:"info"})]}),Object(c.jsx)("div",{className:"picks",children:ae?ae.map((function(e){return Object(c.jsx)("div",{className:"pick ".concat(Ce(e)?"":"hidden"," ").concat(i.players.find((function(e){return e.pick_order==i.choosing})).username.toLowerCase()!=y.toLowerCase()?"disabled":""),style:{backgroundImage:"url(https://rankingsbot.com/imgs2/".concat(e.speciesId.replaceAll("_","-").replace("alolan","alola"),".png)")},"data-id":e.speciesId,"data-name":e.speciesName,onClick:ue})})):Object(c.jsx)("div",{className:"loadingContainer",children:Object(c.jsx)("div",{className:"loading"})})})]}):Object(c.jsx)("div",{children:(null===i||void 0===i||null===(r=i.players)||void 0===r||null===(s=r.find((function(e){return e.username.toLowerCase()==y.toLowerCase()})))||void 0===s?void 0:s.host)?Object(c.jsxs)("div",{className:"options",children:[Object(c.jsx)("label",{children:"Rounds:"}),Object(c.jsx)("input",{type:"number",min:"1",value:F,onChange:q}),Object(c.jsx)("label",{children:"Ban:"}),Object(c.jsx)("input",{type:"number",min:"0",value:U,onChange:$}),U>0&&Object(c.jsxs)("div",{style:{width:"100%"},children:["Ban columns:",Object(c.jsx)("div",{ref:z,className:"bans",onClick:function(e){X(Object(O.a)(z.current.querySelectorAll("input")).map((function(e){return e.checked})))},children:V.map((function(e,t){return Object(c.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"},children:[Object(c.jsx)("span",{children:t+1}),Object(c.jsx)("input",{disabled:V.filter(Boolean).length==U&&!e,checked:e,type:"checkbox"})]})}))})]}),Object(c.jsx)("label",{children:"League:"}),Object(c.jsxs)("select",{value:ee,onChange:function(e){te(e.target.value)},children:[Object(c.jsx)("option",{value:"1500",children:"Great League"}),Object(c.jsx)("option",{value:"2500",children:"Ultra League"}),Object(c.jsx)("option",{value:"10000",children:"Master League"})]})," ",Object(c.jsx)("br",{}),Object(c.jsx)("button",{className:"lighter",onClick:we,children:"Start Draft"})]}):Object(c.jsxs)(c.Fragment,{children:["The host ",Object(c.jsx)("span",{style:{fontWeight:"bold"},children:i.players.find((function(e){return e.host})).username})," hasn't started the draft yet."]})})})]}),y&&Object(c.jsxs)("div",{className:"chat-container",children:[Object(c.jsxs)("div",{ref:qe,className:"chat-title",onClick:function(){Pe((function(e){return!e}))},children:["Chat ",Object(c.jsx)("i",{className:"material-icons",children:"close"})]}),Object(c.jsxs)("div",{className:"chat-and-commands ".concat(Me?"":"chat-closed"),children:[Object(c.jsx)("div",{ref:Ue,className:"chat",children:Ge.map((function(e){var t=new Date(e.eta);return t.setHours(t.getHours()-(new Date).getTimezoneOffset()/60),Object(c.jsxs)("div",{className:"chat-msg ".concat(e.author.toLowerCase()==y.toLowerCase()?"personal":""),children:[Object(c.jsx)("div",{className:"chat-author",children:e.author}),Object(c.jsx)("div",{className:"chat-content",children:e.msg}),Object(c.jsx)("div",{className:"chat-eta",children:"".concat(String(t.getHours()).padStart(2,"0"),":").concat(String(t.getMinutes()).padStart(2,"0"))})]})}))}),Object(c.jsx)("div",{className:"chat-commands",children:Object(c.jsxs)("form",{onSubmit:We,children:[Object(c.jsx)("input",{value:He,onChange:function(e){return De(e.target.value)}}),Object(c.jsx)("button",{disabled:!He,type:"submit",children:Object(c.jsx)("i",{className:"material-icons",children:"send"})})]})})]})]}),Object(c.jsx)("div",{className:"substitute-popup ".concat(be?"":"closed"),children:Object(c.jsxs)("div",{className:"substitute-popup-picker titled","data-title":"Substitute",children:[Object(c.jsxs)("div",{style:{position:"relative"},children:[Object(c.jsx)("input",{className:"searchBox",placeholder:"Search...",type:"text",value:E,onChange:function(e){R(e.target.value)}}),Object(c.jsx)("i",{className:"material-icons info",onClick:Ae,children:"info"})]}),Object(c.jsx)(x,{pvpokeRankings:ae,checkHide:ye,pickPokemon:ue}),Object(c.jsx)("button",{onClick:function(){he(!1)},children:"Cancel"})]})}),Object(c.jsx)("div",{onClick:Ae,className:"info-popup ".concat(Se?"":"closed"),children:Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:["Type ",Object(c.jsx)("b",{children:Object(c.jsx)("i",{children:"pokemonname"})})," to list a pok\xe9mon with that name"]}),Object(c.jsxs)("li",{children:["Type ",Object(c.jsx)("b",{children:Object(c.jsx)("i",{children:"type"})})," to list pok\xe9mon with that type"]}),Object(c.jsxs)("li",{children:["Type ",Object(c.jsx)("b",{children:Object(c.jsx)("i",{children:"@move"})})," to list pok\xe9mon with that move"]}),Object(c.jsxs)("li",{children:["Type ",Object(c.jsx)("b",{children:Object(c.jsx)("i",{children:"@type"})})," to list pok\xe9mon with that move type"]}),Object(c.jsxs)("li",{children:["Type ",Object(c.jsx)("b",{children:Object(c.jsx)("i",{children:"-pokemonname"})})," to list counters for that pok\xe9mon"]})]})}),ie&&Object(c.jsx)("div",{className:"confirm-pokemon",onClick:function(e){return e.target.classList.contains("confirm-pokemon")&&le(null)},children:Object(c.jsxs)("div",{className:"pokemon-card",children:[Object(c.jsx)("div",{className:"pokemon-card-img",style:{backgroundImage:"url(https://rankingsbot.com/imgs2/".concat(ie.speciesId.replaceAll("_","-").replace("alolan","alola"),".png)")}}),Object(c.jsx)("div",{className:"pokemon-card-name",children:ie.speciesName}),Object(c.jsx)("div",{className:"pokemon-card-types",children:ie.types.map((function(e){return"none"!=e&&Object(c.jsx)("div",{style:{backgroundImage:"url(../types/".concat(e,".png)")}})}))}),Object(c.jsxs)("div",{className:"pokemon-card-stats",children:[Object(c.jsx)("div",{className:"pokemon-card-stat",children:"ATK"}),Object(c.jsx)("div",{className:"pokemon-card-stat",children:"DEF"}),Object(c.jsx)("div",{className:"pokemon-card-stat",children:"HP"}),Object(c.jsx)("div",{className:"pokemon-card-stat",children:ie.stats.atk}),Object(c.jsx)("div",{className:"pokemon-card-stat",children:ie.stats.def}),Object(c.jsx)("div",{className:"pokemon-card-stat",children:ie.stats.hp})]}),Object(c.jsxs)("div",{className:"pokemon-card-moves",children:[Object(c.jsx)("div",{className:"pokemon-card-fasts",children:ie.moves.fastMoves.map((function(e){return Object(c.jsx)("div",{style:{background:"rgb(".concat(A[e.type].red,", ").concat(A[e.type].green,", ").concat(A[e.type].blue,")")},className:"pokemon-card-fast",children:e.moveId.replaceAll("_"," ")})}))}),Object(c.jsx)("div",{className:"pokemon-card-charges",children:ie.moves.chargedMoves.map((function(e){return Object(c.jsx)("div",{style:{background:"rgb(".concat(A[e.type].red,", ").concat(A[e.type].green,", ").concat(A[e.type].blue,")")},className:"pokemon-card-charge",children:e.moveId.replaceAll("_"," ")})}))})]}),Object(c.jsxs)("div",{className:"pokemon-card-buttons",children:[Object(c.jsx)("button",{className:"lighter",onClick:function(){le(null)},children:"Cancel"}),Object(c.jsx)("button",{className:"lighter",onClick:be?ke:ge,children:be?"Substitute":i.ban_rounds[Math.floor(i.choosed_list.length/i.players.length)]?"Ban":"Select"})]})]})})]})},M=function(e){var t=Object(j.h)().link,n=Object(a.useRef)(),r=Object(j.g)(),s=Object(a.useState)(null),o=Object(d.a)(s,2),i=o[0],p=o[1],f=m(),O=_(),x=Object(a.useState)(""),v=Object(d.a)(x,2),g=v[0],w=v[1],y=Object(a.useState)(""),C=Object(d.a)(y,2),N=C[0],S=C[1],L=Object(a.useState)(r.state?r.state.password:""),A=Object(d.a)(L,2),I=A[0],T=A[1],M=Object(a.useState)(""),P=Object(d.a)(M,2),E=P[0],R=P[1],H=Object(a.useState)(""),D=Object(d.a)(H,2),F=D[0],B=D[1],G=Object(a.useState)(""),J=Object(d.a)(G,2),U=J[0],W=J[1],q=Object(j.f)(),$=k(),z=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,c,a,r,s,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new TextEncoder,c=n.encode(t),e.next=4,crypto.subtle.digest("SHA-256",c);case 4:for(a=e.sent,r="",s=new Uint8Array(a),o=s.byteLength,i=0;i<o;i++)r+=String.fromCharCode(s[i]);return e.abrupt("return",btoa(r));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText("".concat(window.location.href));case 2:n.current.classList.add("copied");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),B(""),R(""),W(""),e.next=6,z(I);case 6:if(e.t0=e.sent,e.t1=i.password,e.t0==e.t1){e.next=11;break}return W("Wrong room Password"),e.abrupt("return");case 11:if(/^\w+$/.test(g)){e.next=14;break}return R("Username can't contain spaces or special characters and can't be blank"),e.abrupt("return");case 14:if(""!=N){e.next=17;break}return B("Password can't be blank"),e.abrupt("return");case 17:O.emit("joinRoom",{username:g,password:N,room:t});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(""),R(""),W(""),O.emit("joinRoomSpec",{room:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("rooms/".concat(t),"GET");case 2:n=e.sent,p(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.state?p(r.state.room):e(),O.on("error",(function(e){"Wrong password"==e?B("Wrong password"):W(e)}))}),[]),Object(a.useEffect)((function(){null!=$&&q.push("/room/".concat($.link),g)}),[$]),i&&Object(c.jsx)("div",{className:"main",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(h,{}),Object(c.jsx)(b,{}),Object(c.jsx)("h3",{children:!1!==i.ok?"Joining room ".concat(i.name):"No room with name ".concat(t)}),!(!1===i.ok)&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{type:"button",onClick:V,children:"Join as Spectactor"}),Object(c.jsx)("span",{style:{fontStyle:"italic",display:"block",marginTop:0},children:"or"}),Object(c.jsx)("p",{className:"explanation",children:"Choose your Username and Password, you'll need them to come back later!"}),Object(c.jsxs)("form",{onSubmit:Q,children:[Object(c.jsx)("input",{placeholder:"Username",type:"text",value:g,onChange:function(e){w(e.target.value)}}),""!=E&&Object(c.jsx)("div",{className:"error",children:E}),Object(c.jsx)("input",{placeholder:"Password",type:"password",value:N,onChange:function(e){S(e.target.value)}}),""!=F&&Object(c.jsx)("div",{className:"error",children:F}),Object(c.jsxs)("p",{className:"explanation",children:["Share the following link and the room password with your friends to let them join the draft!",Object(c.jsxs)("code",{class:"share-link",onClick:K,children:[Object(c.jsx)("span",{className:"link",children:window.location.href}),Object(c.jsx)("i",{ref:n,class:"material-icons right",children:"content_copy"})]})]}),!r.state&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{placeholder:"Room Password",type:"password",value:I,onChange:function(e){T(e.target.value)}}),""!=U&&Object(c.jsx)("div",{className:"error",children:U})]}),Object(c.jsx)("button",{type:"submit",children:"Join"})]})]})]})})},P=n(11);var E=function(){return Object(c.jsx)(P.a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:"/",exact:!0,component:f}),Object(c.jsx)(j.a,{path:"/room/:link",exact:!0,component:T}),Object(c.jsx)(j.a,{path:"/joinroom/:link",exact:!0,component:M}),Object(c.jsx)(j.a,{path:"/test",exact:!0,children:Object(c.jsx)("div",{children:"Test"})})]})})};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(y,{children:Object(c.jsx)(S,{children:Object(c.jsx)(E,{})})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.ac9b84a4.chunk.js.map