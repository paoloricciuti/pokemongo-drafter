(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a,r=n(1),c=n(0),o=n.n(c),s=n(18),i=n.n(s),u=(n(25),n(26),n(7)),l=n.n(u),j=n(9),b=n(8),d=n(2),h=function(){return function(){var e=Object(j.a)(l.a.mark((function e(t,n){var a,r,c,o,s,i,u,j,b,d=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>2&&void 0!==d[2]?d[2]:null,r=!(d.length>3&&void 0!==d[3])||d[3],c="/api/",o=new Headers,r&&o.append("Content-Type","application/json"),s={method:n,body:null!=a&&"GET"!=n?JSON.stringify(a):null,headers:o},a instanceof FormData&&(s.body=a),i="","GET"==n&&null!=a&&(u=new URLSearchParams,Object.entries(a).forEach((function(e){u.append(e[0],e[1])})),i="?".concat(u.toString())),e.next=11,fetch("".concat(c).concat(t).concat(i),s);case 11:return j=e.sent,e.prev=12,e.next=15,j.json();case 15:b=e.sent,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(12),b={ok:!1};case 21:return e.abrupt("return",b);case 22:case"end":return e.stop()}}),e,null,[[12,18]])})));return function(t,n){return e.apply(this,arguments)}}()},p=(n(28),function(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],o=n[1],s=Object(c.useState)(""),i=Object(b.a)(s,2),u=i[0],p=i[1],m=Object(c.useState)(""),O=Object(b.a)(m,2),f=O[0],x=O[1],v=Object(c.useState)(""),w=Object(b.a)(v,2),y=w[0],k=w[1],g=h(),S=Object(d.f)(),N=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),k(""),x(""),""!=u){e.next=6;break}return k("Password can't be blank"),e.abrupt("return");case 6:if(""!=a){e.next=9;break}return x("Room name can't be blank"),e.abrupt("return");case 9:return e.next=11,g("rooms","POST",{name:a,password:u});case 11:(n=e.sent).error?x("A room with the same name already exists, try another one"):S.push("/joinroom/".concat(n.link),n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"main",children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h3",{children:"Welcome to Pokemon Go drafter, the definitive tool to create a draft tournament with your friends."}),Object(r.jsx)("p",{class:"explanation",children:"How it works: just type a name for your room and a password to create a new Room. Share the link that will be provided with your friends together with the password you choosed. The system will ask you to insert a nickname, the password of the room and a personal password. And just like that you'll have a way to select you draft team together with your friends."}),Object(r.jsxs)("form",{onSubmit:N,children:[Object(r.jsx)("input",{placeholder:"Room Name",type:"text",value:a,onChange:function(e){o(e.target.value)}}),""!=f&&Object(r.jsx)("div",{className:"error",children:f}),Object(r.jsx)("input",{placeholder:"Password",type:"password",value:u,onChange:function(e){p(e.target.value)}}),""!=y&&Object(r.jsx)("div",{className:"error",children:y}),Object(r.jsx)("button",{type:"submit",children:"Create Room"})]})]})})}),m=function(e){var t=Object(d.h)().link;return Object(c.useEffect)((function(){(a=window.io()).on("roomUpdate",(function(e){console.log(e)})),console.log(a.emit("joinRoom",{username:"pablopang"}))})),Object(r.jsx)("div",{className:"main",children:Object(r.jsxs)("div",{className:"container",children:["Accessing room ",t]})})},O=function(e){var t=Object(d.h)().link,n=Object(d.g)(),a=Object(c.useState)(null),o=Object(b.a)(a,2),s=o[0],i=o[1],u=h();Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("rooms/".concat(t),"GET");case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n.state?i(n.state):e()}),[]);var p=Object(c.useState)(""),m=Object(b.a)(p,2),O=m[0],f=m[1],x=Object(c.useState)(""),v=Object(b.a)(x,2),w=v[0],y=v[1],k=Object(c.useState)(""),g=Object(b.a)(k,2),S=g[0],N=(g[1],Object(c.useState)("")),E=Object(b.a)(N,2),T=E[0];E[1],Object(d.f)();return s&&Object(r.jsx)("div",{className:"main",children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)("h3",{children:["Joining room ",s.name]}),Object(r.jsxs)("form",{onSubmit:function(){},children:[Object(r.jsx)("input",{placeholder:"Username",type:"text",value:O,onChange:function(e){f(e.target.value)}}),""!=S&&Object(r.jsx)("div",{className:"error",children:S}),Object(r.jsx)("input",{placeholder:"Password",type:"password",value:w,onChange:function(e){y(e.target.value)}}),""!=T&&Object(r.jsx)("div",{className:"error",children:T}),Object(r.jsx)("button",{type:"submit",children:"Join"})]})]})})},f=n(11);var x=function(){return Object(r.jsx)(f.a,{children:Object(r.jsxs)(d.c,{children:[Object(r.jsx)(d.a,{path:"/",exact:!0,component:p}),Object(r.jsx)(d.a,{path:"/room/:link",exact:!0,component:m}),Object(r.jsx)(d.a,{path:"/joinroom/:link",exact:!0,component:O}),Object(r.jsx)(d.a,{path:"/test",exact:!0,children:Object(r.jsx)("div",{children:"Test"})})]})})};i.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(x,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.8ee611e9.chunk.js.map